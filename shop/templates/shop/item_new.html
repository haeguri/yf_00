{% extends "shop/base.html" %}

{% block content %}

<div class="item-form-wrapper">
    <form method="post" action="{% url 'shop:item_new' %}" enctype="multipart/form-data">
        {% csrf_token %}

        <div>{{ item_form.category }}</div>
        <div>{{ item_form.vendor }}</div>


        {{ item_photo_formset.management_form }}
        <div class="yf-input">
            <label>이미지</label>
            {% for photo_form in item_photo_formset %}
                <div class="photo-formset">
                    {{ photo_form.image }}
                </div>
            {% endfor %}
        </div>

        <div class="yf-input">
            <label for="{{ item_form.name.id_for_label }}">상품이름</label>
            {{ item_form.name }}
            <div class="yf-error-msg">
                {{ item_form.name.errors }}
            </div>
        </div>

        <div class="yf-input">
            <label for="{{ item_form.price.id_for_label }}">가격</label>
            {{ item_form.price }}
            <div class="yf-error-msg">
                {{ item_form.price.errors }}
            </div>
        </div>

        <div class="yf-input">
            <label for="{{ item_form.purchased_at.id_for_label }}">구매시기</label>
            {{ item_form.purchased_at }}
            <div class="yf-error-msg">
                {{ item_form.purchased_at.errors }}
            </div>
        </div>

        <div class="yf-input">
            <label for="{{ item_form.deal_way.id_for_label }}">거래방법</label>
            {% for radio in item_form.deal_way %}
                <div class="yf-radio">
                    {{ radio }}
                </div>
            {% endfor %}
            <div class="yf-error-msg">
                {{ item_form.deal_way.errors }}
            </div>
        </div>

        <div class="yf-input">
            <label for="{{ item_form.condition.id_for_label }}">옷 상태</label>
            {% for radio in item_form.condition %}
                <div class="yf-radio">
                    {{ radio }}
                </div>
            {% endfor %}
            <div class="yf-error-msg">
                {{ item_form.condition.errors }}
            </div>
        </div>

        <div class="yf-input">
            <label for="{{ item_form.deal_place.id_for_label }}">거래장소</label>
            {{ item_form.deal_place }}
            <div class="yf-error-msg">
                {{ item_form.deal_place.errors }}
            </div>
        </div>

        <div class="yf-input">
            <label for="{{ item_form.shipping_price.id_for_label }}">배송비</label>
            {{ item_form.shipping_price }}
            <div class="yf-error-msg">
                {{ item_form.shipping_price.errors }}
            </div>
        </div>

        <div class="yf-input">
            <label for="{{ item_form.include_shipping.id_for_label }}">배송비포함</label>
            {{ item_form.include_shipping }}
            <div class="yf-error-msg">
                {{ item_form.include_shipping.errors }}
            </div>
        </div>

        <div class="yf-input desc">
            <label for="{{ item_form.desc.id_for_label }}">설명</label>
            {{ item_form.desc }}
            <div class="yf-error-msg">
                {{ item_form.desc.errors }}
            </div>
        </div>

        <input type="submit" value="등록하기"/>
    </form>
</div>

{#<script type="text/javascript">#}
{#    $("#yf-input-deal_way").change(function() {#}
{#        var deal_way = $("#yf-input-deal_way option:selected").val();#}
{##}
{#        if(deal_way == "ship") {#}
{#            $(".shipping-checkbox").show();#}
{#            $(".deal-place").hide();#}
{#        } else {#}
{#            $(".shipping-checkbox").hide();#}
{#            $(".deal-place").show();#}
{#        }#}
{#    });#}
{#</script>#}
{% endblock %}